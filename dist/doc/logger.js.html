<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pft/objects/logger.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: pft/objects/logger.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>var PFT = PFT || {};

/** @namespace */
PFT.logger = {
    /**
     * property representing the string value of the minimum
     * logging level to output
     */
    logLevel: require('system').env.log_level || "info",

    /** @ignore */
    UNKNOWN: -1, // never show

    /**
     * property representing the minimum criticality level of logging.
     * this should be reserved for highly detailed debugging
     */
    TRACE: 0,

    /**
     * property representing a low criticality level of logging.
     * this should be reserved for debugging
     */
    DEBUG: 1,

    /**
     * property representing the normal criticality level of logging.
     * this should be reserved for helpful state change information
     */
    INFO: 2,

    /**
     * property representing the moderate criticality level of logging.
     * this should be reserved for potentially problematic state changes
     */
    WARN: 3,

    /**
     * property representing the maximum criticality level of logging.
     * this should be reserved for problems with execution that will
     * block functionality
     */
    ERROR: 4,

    /** @ignore */
    TEST: 100, // always show

    /** @ignore */
    getLogLevelInt: function (levelStr) {
        switch (levelStr.toLowerCase()) {
            case "trace":
                return PFT.logger.TRACE;
            case "debug":
                return PFT.logger.DEBUG;
            case "info":
                return PFT.logger.INFO;
            case "warn":
                return PFT.logger.WARN;
            case "error":
                return PFT.logger.ERROR;
            case "qunit":
                return PFT.logger.TEST;
            default:
                return PFT.logger.UNKNOWN;
        }
    },

    /** @ignore */
    getLogLevelStr: function (levelInt) {
        switch (levelInt) {
            case PFT.logger.TRACE:
                return "TRACE";
            case PFT.logger.DEBUG:
                return "DEBUG";
            case PFT.logger.INFO:
                return "INFO";
            case PFT.logger.WARN:
                return "WARN";
            case PFT.logger.ERROR:
                return "ERROR";
            case PFT.logger.TEST:
                return "TEST";
            default:
                return "UNKNOWN";
        }
    },

    /**
     * function will log the passed in message to the console
     * based on the {@link PFT.logger.logLevel} where higher
     * criticality of levels will be output
     * @param {Integer} levelInt - a value of {@link PFT.logger.TRACE},
     * {@link PFT.logger.DEBUG}, {@link PFT.logger.INFO},
     * {@link PFT.logger.WARN}, or {@link PFT.logger.ERROR} to specify
     * the criticality of the message
     * @param {string} message - the message to be output if the level
     * is equal to or higher than {@link PFT.logger.logLevel}
     * @param {boolean} [includeStackTrace=false] - if set to true the
     * output message will be appended with the current execution stack
     */
    log: function(levelInt, message, includeStackTrace) {
        if (levelInt && !isNaN(levelInt) && levelInt > PFT.logger.UNKNOWN && levelInt >= PFT.logger.getLogLevelInt(PFT.logger.logLevel)) {
            if (includeStackTrace) {
                message += "\n" + PFT.logger._getStackTrace();
            }
            var msg = PFT.logger.getLogLevelStr(levelInt) + ": " + message;
            switch (levelInt) {
                case PFT.logger.FATAL:
                case PFT.logger.ERROR:
                    console.error(msg);
                    break;
                case PFT.logger.WARN:
                    console.warn(msg);
                    break;
                default:
                    console.log(msg);
            }
        }
    },

    /** @ignore */
    _getStackTrace: function () {
        var callstack = "";
        var isCallstackPopulated = false;
        try {
            i.dont.exist+=0; //doesn't exist- that's the point
        } catch(e) {
            var lines,
                i;
            if (e.stack) {
                lines = e.stack.split('\n');
                for (i=2; i&lt;lines.length; i++) {
                    callstack += lines[i] + "\n";
                }
                isCallstackPopulated = true;
            }
        }
        if (!isCallstackPopulated) { //IE and Safari
            var currentFunction = arguments.callee.caller;
            while (currentFunction) {
                var fn = currentFunction.toString();
                var fname = fn.substring(fn.indexOf("function") + 8, fn.indexOf('')) || 'anonymous';
                callstack += "\t" + fname + "\n";
                currentFunction = currentFunction.caller;
            }
        }
        return callstack;
    }
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="PFT.BasePage.html">BasePage</a></li></ul><h3>Namespaces</h3><ul><li><a href="PFT.html">PFT</a></li><li><a href="PFT.logger.html">logger</a></li><li><a href="PFT.tester.html">tester</a></li><li><a href="PFT.tester.assert.html">assert</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Thu Jan 29 2015 11:06:56 GMT-0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
